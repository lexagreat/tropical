const maskOptions={mask:"+{7} (000) 000-00-00"};document.querySelectorAll("[data-phone]").length&&document.querySelectorAll("[data-phone]").forEach(e=>{IMask(e,maskOptions)});const body=document.body;function productsSection(){const e=document.querySelectorAll(".products-section .swiper");e.length&&e.forEach(e=>{new Swiper(e,{spaceBetween:4,mousewheel:{enabled:!0,forceToAxis:!0},navigation:{nextEl:e.closest(".products-section__slider").querySelector(".next"),prevEl:e.closest(".products-section__slider").querySelector(".prev")},breakpoints:{1024:{slidesPerView:3},0:{slidesPerView:"auto"}}})})}function home(){!function(){const e=document.querySelector(".home-hero .swiper");if(!e)return;new Swiper(e,{spaceBetween:4,slidesPerView:1,mousewheel:{enabled:!0,forceToAxis:!0},navigation:{nextEl:e.querySelector(".next"),prevEl:e.querySelector(".prev")},pagination:{el:e.querySelector(".home-hero__pagination"),type:"custom",renderCustom:function(e,t,o){return`<span class="swiper-pagination-current">${t}</span>/<span class="swiper-pagination-total">${o}</span>`}}})}(),function(){const e=document.querySelectorAll(".faq-slide");let t=0;e.length&&(e.forEach((o,s)=>{o.addEventListener("click",()=>{e.forEach(e=>{e.classList.remove("active"),e.style.width=""}),o.classList.add("active"),t=s})}),window.innerWidth>1024&&(e[0].onmouseenter=()=>{0!==t&&(e[0].style.width="calc(2 * var(--width))")},e[0].onmouseleave=()=>{0!==t&&(e[0].style.width="")},e[1].onmouseenter=()=>{1!==t&&(e[1].style.width="calc(2 * var(--width))",0===t&&(e[0].style.width="calc(100% - (var(--total) - 1) * var(--width) - var(--width))"))},e[1].onmouseleave=()=>{1!==t&&(e[1].style.width="",0===t&&(e[0].style.width=""))},e[2].onmouseenter=()=>{2!==t&&(e[2].style.width="calc(2 * var(--width))",0===t&&(e[0].style.width="calc(100% - (var(--total) - 1) * var(--width) - var(--width))"),1===t&&(e[1].style.width="calc(100% - (var(--total) - 1) * var(--width) - var(--width))"))},e[2].onmouseleave=()=>{2!==t&&(e[2].style.width="",0===t&&(e[0].style.width=""),1===t&&(e[1].style.width=""))}))}(),function(){const e=document.querySelector(".home-about__title");if(!e)return;const t=e.textContent;e.innerHTML="";const o=t.split("");o.forEach(t=>{const o=document.createElement("span");o.textContent=t,e.appendChild(o)});const s=o.length,n=document.querySelectorAll(".home-about__title span");gsap.to(e,{ease:"none",scrollTrigger:{trigger:e,start:"top 70%",end:()=>"top 20%",scrub:.1,invalidateOnRefresh:!0,onUpdate:e=>{const t=Math.round(e.progress*s);n.forEach((e,o)=>{o<t?e.classList.add("active"):e.classList.remove("active")})}}})}()}function search(){const e=document.querySelector(".header__wrapper .header__search input"),t=document.querySelector(".modal.header-search");e&&e.addEventListener("click",()=>{popupOpen(t)})}function addressModal(){tabs('[name="address-modal-tabs"]',"#address-modal [data-tab]"),tabs('[name="address-modal-tabs1"]',"#address-modal-choose [data-tab]");const e=document.querySelector(".address-pickup");if(e){const t=document.querySelector(".address-pickup__close");t&&t.addEventListener("click",()=>{e.classList.remove("active")})}}function tabs(e,t){const o=document.querySelectorAll(e),s=document.querySelectorAll(t);let n;o.length&&o.forEach(e=>{e.addEventListener("change",()=>{e.checked&&(n=e.value),s.forEach(e=>{e.classList.remove("active"),e.getAttribute("data-tab")==n&&e.classList.add("active")})})})}function validateInputs(){const e=document.querySelectorAll(".app-input");e.length&&e.forEach(e=>{let t=e.querySelector("input");t||(t=e.querySelector("textarea")),t.oninput=t=>{t.target.value.length>0?e.classList.add("filled"):e.classList.remove("filled")}})}function checkout(){const e=document.querySelectorAll('[name="checkout1"]');if(!e.length)return;e.forEach(e=>{e.addEventListener("change",()=>{const t=e.value,o=document.querySelector("[data-hidden-1]");"1"===t?o.classList.add("active"):o.classList.remove("active")})});const t=document.querySelector(".checkout-inputs__checkbox input");t.addEventListener("change",()=>{const e=t.checked,o=document.querySelector(".checkout-inputs__hidden");e?o.classList.add("active"):o.classList.remove("active")}),tabs('[name="checkout2"]',"[data-checkout-2]")}function receipts(){const e=document.querySelectorAll(".receipts-aside__item button");if(!e.length)return;e.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".receipts-aside__item").querySelectorAll("li");e.classList.contains("active")?(e.classList.remove("active"),t.forEach((e,t)=>{t>4?e.classList.add("hidden"):e.classList.remove("hidden")})):(e.classList.add("active"),t.forEach(e=>{e.classList.remove("hidden")})),e.closest("li").classList.remove("hidden")})});const t=document.querySelectorAll(".receipts-filters__item"),o=document.querySelectorAll(".receipts-filters__out");t.forEach((e,s)=>{e.addEventListener("click",()=>{if(e.classList.contains("active"))return e.classList.remove("active"),o[s].classList.remove("active"),void console.log(o[s]);o.forEach((e,t)=>{s===t?e.classList.add("active"):e.classList.remove("active")}),t.forEach((e,t)=>{s===t?e.classList.add("active"):e.classList.remove("active")})})})}function authModal(){const e=document.querySelector(".auth-modal__back");e&&e.addEventListener("click",()=>{const e=document.querySelector(".auth-modal__step.active");if(!e)return;e.classList.remove("active");e.previousElementSibling.classList.add("active")})}function contacts(){!function(){const e=document.querySelector(".contacts-path__marker");e&&(e.onclick=()=>{e.classList.toggle("active")})}(),function(){const e=document.querySelectorAll(".catalog-page__aside a[href^='#']");if(!e.length)return;e.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.getAttribute("href"),s=document.querySelector(o);s&&s.scrollIntoView({behavior:"smooth",block:"start"})})});const t=Array.from(e).map(e=>{const t=e.getAttribute("href");return document.querySelector(t)}).filter(Boolean);function o(){const o=window.scrollY,s=o+window.innerHeight,n=document.documentElement.scrollHeight;let c=t[0];s>=n-50?c=t[t.length-1]:t.forEach(e=>{const t=e.offsetTop-150;o>=t&&(c=e)}),e.forEach(e=>{const t=e.getAttribute("href");c&&t==="#"+c.id?e.classList.add("active"):e.classList.remove("active")})}console.log(t),console.log(e),window.addEventListener("scroll",o),o()}()}function about(){let e=0,t=!1;document.addEventListener("scroll",(function(){const o=document.querySelector(".header"),s=Math.max(0,window.scrollY);o.style.translate=s>e?"0 -100%":"",e=s,t=!1})),function(){const e=document.querySelectorAll(".about-hero__image"),t=document.querySelector(".about-hero__wrapper");if(!e.length)return;const o=(t.offsetHeight-window.innerHeight)/e.length,s=document.querySelector(".about-hero__gallery"),n=document.createElement("div");n.style.width="var(--container)",document.body.appendChild(n);const c=parseFloat(getComputedStyle(n).width);document.body.removeChild(n);const i=window.innerWidth>1024?t.clientWidth-s.clientWidth+c:c;e.forEach((e,n)=>{const a={scrollTrigger:{trigger:t,start:"top -="+n*o*.5,end:"top -="+(n*o*.5+o),scrub:.5,invalidateOnRefresh:!0,markers:!1},ease:"power2.inOut"};e.classList.contains("last")?(gsap.to(s,{marginRight:"-"+c,width:"100vw",height:"100vh",marginLeft:`-${i}px`,borderRadius:"0",top:0,...a}),gsap.to(e,{borderRadius:"0",...a})):gsap.to(e,{y:"-90vh",x:"-90vw",scale:.8,rotate:"13deg",...a})})}(),function(){const e=document.querySelector(".about-cifra .swiper");if(!e)return;new Swiper(e,{loop:!0,centeredSlides:!0,initialSlide:1,navigation:{nextEl:document.querySelector(".about-cifra .next"),prevEl:document.querySelector(".about-cifra .prev")},mousewheel:{enabled:!0,forceToAxis:!0},breakpoints:{0:{slidesPerView:1.5},569:{slidesPerView:2},1025:{slidesPerView:3}}}),setTimeout(()=>{e.style.height=e.offsetHeight+"px"},500)}(),function(){const e=document.querySelector(".about-geo .swiper"),t=document.querySelectorAll(".about-geo__dot");if(!e)return;let o=new Swiper(e,{slidesPerView:1,spaceBetween:16,pagination:{el:document.querySelector(".about-geo .about-geo__pagination"),type:"custom",renderCustom:function(e,t,o){return`<span class="swiper-pagination-current">${t}</span><span class="swiper-pagination-total">/${o}</span>`}},navigation:{prevEl:".about-geo .about-geo__nav .prev",nextEl:".about-geo .about-geo__nav .next"},on:{slideChange(e){t.forEach(e=>e.classList.remove("active")),t[e.activeIndex].classList.add("active")},init(){t[0].classList.add("active")}}});t.forEach((e,s)=>{e.onclick=()=>{t.forEach(e=>e.classList.remove("active")),e.classList.add("active"),o.slideTo(s)}})}(),function(){const e=document.querySelector(".about-reviews .swiper");if(!e)return;new Swiper(e,{slidesPerView:"auto",mousewheel:{enabled:!0,forceToAxis:!0},spaceBetween:4,pagination:{el:document.querySelector(".about-reviews .about-geo__pagination"),type:"custom",renderCustom:function(e,t,o){return`<span class="swiper-pagination-current">${t}</span><span class="swiper-pagination-total">/${o}</span>`}},navigation:{prevEl:".about-reviews .about-geo__nav .prev",nextEl:".about-reviews .about-geo__nav .next"}})}(),function(){const e=document.querySelector(".about-label__image"),t=document.querySelector(".about-label__image .btn");let o,s,n;window.innerWidth>1024?(o=608,s=608,n=530):window.innerWidth>768?(o="100%",s=634,n=634):(o="100%",s=366,n=366),e&&gsap.to(e,{width:o,height:n,flexBasis:s,scrollTrigger:{trigger:e,start:"top 70%",end:"top 20%",scrub:.1,invalidateOnRefresh:!0,markers:!1,onUpdate:e=>{e.progress>.9?(t.style.opacity=1,t.style.pointerEvents="all"):(t.style.opacity=0,t.style.pointerEvents="none")}}})}()}function accordion(e,t){const o=document.querySelectorAll(""+e),s=document.querySelectorAll(""+t);if(o.length>0)for(let e=0;e<o.length;e++){let t=o[e];t.addEventListener("click",()=>{for(let e=0;e<s.length;e++){if(s[e].classList.contains("collapsing"))return;slideHide(s[e])}for(let e=0;e<o.length;e++)o[e].classList.remove("active");let n=s[e];n.classList.contains("collapsing")||(n.classList.contains("collapse_show")?t.classList.remove("active"):t.classList.add("active"),slideShow(n))})}}function slideShow(e,t=500){if(e.classList.contains("collapsing")||e.classList.contains("collapse_show"))return;e.classList.remove("collapse");const o=e.offsetHeight;e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.add("collapsing"),e.offsetHeight,e.style.height=o+"px",window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.classList.add("collapse_show"),e.style.height="",e.style.transition="",e.style.overflow=""},t)}function slideHide(e,t=500){!e.classList.contains("collapsing")&&e.classList.contains("collapse_show")&&(e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${t}ms ease`,e.classList.remove("collapse"),e.classList.remove("collapse_show"),e.classList.add("collapsing"),window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},t))}gsap.registerPlugin(ScrollTrigger),document.addEventListener("DOMContentLoaded",()=>{productsSection(),home(),tabs('[name="product-modal-tabs"]',".product-modal__tabs [data-tab]"),addressModal(),validateInputs(),checkout(),receipts(),authModal(),accordion(".header-menu__links li button",".header-menu__links li .collapse"),about(),search(),contacts()});const popupLinks=document.querySelectorAll(".modal__link"),lockPadding=document.querySelectorAll(".lock-padding"),popupCloseIcon=document.querySelectorAll(".modal__close");let unlock=!0;const timeout=500;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(o)),e.preventDefault()}))}if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".modal")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".modal.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){console.log(e),e.target.closest(".modal__content")||e.target.closest(".modal__wrapper")||popupClose(e.target.closest(".modal"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnLock())}function bodyLock(){const e=document.querySelector(".wrapper"),t=e?window.innerWidth-e.offsetWidth+"px":window.innerWidth-document.body.offsetWidth+"px";if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight=t}body.style.paddingRight=t,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),500)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),500),unlock=!1,setTimeout((function(){unlock=!0}),500)}document.addEventListener("keydown",(function(e){if(27===e.which){popupClose(document.querySelector(".modal.open"))}}));
//# sourceMappingURL=../sourcemaps/app.min.js.map
